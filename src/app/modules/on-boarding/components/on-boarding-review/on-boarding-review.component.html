<div class="review-container" fxLayout="column" fxLayoutAlign="start center">
  <div class="content" fxLayout="column" fxLayoutAlign="start start" fxLayoutGap="20px">
    <!-- personal information -->
    <div class="content-personal" fxLayout="column" fxLayoutAlign="start start">
      <div *ngIf="!hasDocs" class="well-error">No documents uploaded</div>
      <h4>Personal Information</h4>
      <div class="w-100" fxLayout="row" fxLayoutAlign="center center" fxLayoutGap="15px">
        <cma-input [form]="getPersonalForm" controlName="buildingNo" label="Building #" [value]="'Building #9'"></cma-input>
        <cma-input [form]="getPersonalForm" controlName="unitNo" label="Unit #" [value]="'Unit #9622'"></cma-input>
        <cma-input [form]="getPersonalForm" controlName="parkingSlot" label="Parking Slot #" [value]="'Parking Slot #01'"></cma-input>
        <cma-input [form]="getPersonalForm" controlName="occupantType" label="Occupant Type" [value]="'Unit Owner'"></cma-input>
      </div>

      <div fxLayout="row wrap" class="w-100" fxLayoutAlign="start center" fxLayoutGap="15px">
        <cma-input [isReadOnly]="true" [form]="getPersonalForm" controlName="lastname" label="Lastname"></cma-input>
        <cma-input [isReadOnly]="true" [form]="getPersonalForm" controlName="firstname" label="Firstname"></cma-input>
        <cma-input [isReadOnly]="true" [form]="getPersonalForm" controlName="middlename" label="Middlename"></cma-input>
        <cma-input [isReadOnly]="true" [form]="getPersonalForm" controlName="citizenship" label="Citizenship"></cma-input>
      </div>
      <div fxLayout="row wrap" class="w-100" fxLayoutAlign="start center" fxLayoutGap="15px">
        <cma-input [isReadOnly]="true" [form]="getPersonalForm" controlName="gender" label="Gender"></cma-input>
        <cma-input [isReadOnly]="true" [form]="getPersonalForm" controlName="civilStatus" label="Civil Status"></cma-input>
        <cma-input [isReadOnly]="true" [form]="getPersonalForm" controlName="dateOfBirth" [isDate]="true" label="Date of Birth"></cma-input>
        <cma-input [isReadOnly]="true" [form]="getPersonalForm" controlName="occupation" label="Occupation"></cma-input>
      </div>
      <div fxLayout="row wrap" class="w-100" fxLayoutAlign="start center" fxLayoutGap="15px">
        <cma-input [isReadOnly]="true" [form]="getPersonalForm" controlName="tin" label="TIN"></cma-input>
        <cma-input [isReadOnly]="true" [form]="getPersonalForm" controlName="busEmail" label="Bus. Email"></cma-input>
        <cma-input [isReadOnly]="true" [form]="getPersonalForm" controlName="busAddress" label="Bus. Address"></cma-input>
        <cma-input [isReadOnly]="true" [form]="getPersonalForm" controlName="busContactNo" label="Bus. Contact No."></cma-input>
      </div>
      <div fxLayout="row wrap" class="w-100" fxLayoutAlign="start center" fxLayoutGap="15px">
        <cma-input [isReadOnly]="true" [form]="getPersonalForm" controlName="idType" label="ID Type"></cma-input>
        <cma-input [isReadOnly]="true" [form]="getPersonalForm" controlName="idNo" label="ID No."></cma-input>
        <cma-img-preview fxFlex="195px" label="Uploaded ID" [file]="getPersonalForm?.value?.uploadPersonalIdFile" [fileName]="getPersonalIdFileName"></cma-img-preview>
      </div>
    </div>
    
    <!-- spouse information -->
    <div class="content-personal" fxLayout="column" fxLayoutAlign="start start">
      <h4>Spouse Information</h4>
      <div fxLayout="row wrap" class="w-100" fxLayoutAlign="start center" fxLayoutGap="15px">
        <cma-input [isReadOnly]="true" [form]="getSpouseForm" controlName="lastname" label="Lastname"></cma-input>
        <cma-input [isReadOnly]="true" [form]="getSpouseForm" controlName="firstname" label="Firstname"></cma-input>
        <cma-input [isReadOnly]="true" [form]="getSpouseForm" controlName="middlename" label="Middlename"></cma-input>
        <cma-input [isReadOnly]="true" [form]="getSpouseForm" controlName="citizenship" label="Citizenship"></cma-input>
      </div>
      <div fxLayout="row wrap" class="w-100" fxLayoutAlign="start center" fxLayoutGap="15px">
        <cma-input [isReadOnly]="true" [form]="getSpouseForm" controlName="gender" label="Gender"></cma-input>
        <cma-input [isReadOnly]="true" [form]="getSpouseForm" controlName="civilStatus" label="Civil Status"></cma-input>
        <cma-input [isReadOnly]="true" [form]="getSpouseForm" controlName="dateOfBirth" [isDate]="true" label="Date of Birth"></cma-input>
        <cma-input [isReadOnly]="true" [form]="getSpouseForm" controlName="occupation" label="Occupation"></cma-input>
      </div>
      <div fxLayout="row wrap" class="w-100" fxLayoutAlign="start center" fxLayoutGap="15px">
        <cma-input [isReadOnly]="true" [form]="getSpouseForm" controlName="tin" label="TIN"></cma-input>
        <cma-input [isReadOnly]="true" [form]="getSpouseForm" controlName="busEmail" label="Bus. Email"></cma-input>
        <cma-input [isReadOnly]="true" [form]="getSpouseForm" controlName="busAddress" label="Bus. Address"></cma-input>
        <cma-input [isReadOnly]="true" [form]="getSpouseForm" controlName="busContactNo" label="Bus. Contact No."></cma-input>
      </div>
      <div fxLayout="row wrap" class="w-100" fxLayoutAlign="start center" fxLayoutGap="15px">
        <cma-input [isReadOnly]="true" [form]="getSpouseForm" controlName="idType" label="ID Type"></cma-input>
        <cma-input [isReadOnly]="true" [form]="getSpouseForm" controlName="idNo" label="ID No."></cma-input>
        <cma-img-preview fxFlex="195px" label="Uploaded ID" [file]="getSpouseForm.value?.uploadSpouseIdFile" [fileName]="getSpouseIdFileName"></cma-img-preview>
      </div>
    </div>

    <!-- occupants -->
    <div [formGroup]="form" class="occupants-container">
      <ng-container *ngIf="hasOccupants">
        <h4>Occupants</h4>
        <div *ngFor="let occupant of getOccupantsArr; let i = index" fxLayout="column">
          <ng-container formArrayName="occupants">
            <div fxFlex fxLayoutGap="20px" [formGroupName]="i" fxLayout="row" fxLayoutAlign="start center">
              <cma-input [form]="occupant" [isReadOnly]="true" controlName="name" label="Name"></cma-input>
              <cma-input [form]="occupant" [isReadOnly]="true" controlName="relationship" label="Relationship"></cma-input>
            </div>
          </ng-container>
        </div>
      </ng-container>
    </div>

    <!-- vehicles -->
    <div *ngIf="hasVehicles" [formGroup]="form" class="vehicles-container">
      <ng-container>
        <h4>Vehicles</h4>
        <div *ngFor="let vehicle of getVehiclesFormArr; let i = index" fxLayout="column">
          <ng-container formArrayName="vehicles">
            <div fxFlex fxLayoutGap="20px" [formGroupName]="i" fxLayout="row" fxLayoutAlign="start center">
              <cma-input [form]="vehicle" [isReadOnly]="true" controlName="model" label="Model"></cma-input>
              <cma-input [form]="vehicle" [isReadOnly]="true" controlName="make" label="Make"></cma-input>
              <cma-input [form]="vehicle" [isReadOnly]="true" controlName="plateNo" label="Plate No."></cma-input>
            </div>
          </ng-container>
        </div>
      </ng-container>
    </div>

    <!-- to Upload documents -->
    <div *ngIf="hasToUploadDocs" class="documents-container">
      <h4>To Upload Documents</h4>
      <div fxLayout="row wrap" fxLayoutAlign="start center" fxLayoutGap="5px">
        <div *ngFor="let doc of toUploadDocs" pTooltip="Download" class="document-thumb" fxLayout="row" fxLayoutAlign="center center" fxLayoutGap="5px">
          <i class="pi pi-file-pdf"></i>
          <span>{{ doc?.name }}</span>
        </div>
      </div>
    </div>

    <!-- uploaded documents -->
    <div *ngIf="hasUploadedDocs" class="documents-container">
      <h4>Uploaded Documents</h4>
      <div fxLayout="row wrap" fxLayoutAlign="start center" fxLayoutGap="5px">
        <div *ngFor="let doc of getDocumentFiles" pTooltip="Download" class="document-thumb" fxLayout="row" fxLayoutAlign="center center" fxLayoutGap="5px">
          <i class="pi pi-file-pdf"></i>
          <span>{{ doc?.name }}</span>
        </div>
      </div>
    </div>

    <div class="action-btns" fxLayout="row" fxLayoutAlign="center center" fxLayoutGap="20px">
      <button pButton pRipple type="button" (click)="onPrev()" label="Previous" class="p-button-rounded default"></button>
      <button [disabled]="!form.valid" pButton pRipple type="button" (click)="onSubmit()" label="Submit" class="p-button-rounded success"></button>
    </div>
  </div>

</div>